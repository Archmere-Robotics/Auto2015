#pragma config(Hubs,  S1, HTMotor,  HTServo,  none,     none)
#pragma config(Hubs,  S2, HTMotor,  HTMotor,  none,     none)
#pragma config(Sensor, S4,    HTSMux,         sensorI2CCustom)
#pragma config(Motor,  motorA,           ,             tmotorNXT, openLoop, encoder)
#pragma config(Motor,  motorB,          sweeper,       tmotorNXT, PIDControl, encoder)
#pragma config(Motor,  motorC,          heartbeat,     tmotorNXT, openLoop, encoder)
#pragma config(Motor,  mtr_S1_C1_1,     wheelC,        tmotorTetrix, PIDControl, reversed, encoder)
#pragma config(Motor,  mtr_S1_C1_2,     wheelD,        tmotorTetrix, PIDControl, reversed, encoder)
#pragma config(Motor,  mtr_S2_C1_1,     wheelB,        tmotorTetrix, PIDControl, reversed, encoder)
#pragma config(Motor,  mtr_S2_C1_2,     wheelA,        tmotorTetrix, PIDControl, reversed, encoder)
#pragma config(Motor,  mtr_S2_C2_1,     collectorMotor, tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S2_C2_2,     liftMotor,     tmotorTetrix, PIDControl, reversed, encoder)
#pragma config(Servo,  srvo_S1_C2_1,    servo1,               tServoNone)
#pragma config(Servo,  srvo_S1_C2_2,    servo2,               tServoNone)
#pragma config(Servo,  srvo_S1_C2_3,    rightHook,            tServoStandard)
#pragma config(Servo,  srvo_S1_C2_4,    dumpServo,            tServoStandard)
#pragma config(Servo,  srvo_S1_C2_5,    rightIRServo,         tServoStandard)
#pragma config(Servo,  srvo_S1_C2_6,    leftIRServo,          tServoStandard)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//
#include "libAuto.c"








//variables for auto1
#define ONE_LEFT_DRIVE 4000
#define ONE_FORWARD_DRIVE 2150

//variables for auto2
#define TWO_SPIN 1800
#define TWO_BACK_DRIVE 600
#define TWO_LEFT 1200

//variables for auto3
#define THREE_SPIN 1800
#define THREE_BACK 570

//variables for knocking down the post
#define KD_FOREWARD 500
#define KD_LEFT 1000
#define KD_SPIN 1000

void init(){
	action("Initializing");
	nMotorEncoder[wheelA]=0;nMotorEncoder[wheelB]=0;nMotorEncoder[wheelC]=0;nMotorEncoder[wheelD]=0;nMotorEncoder[liftMotor]=0;
	servoChangeRate[dumpServo]=1;
	servo[dumpServo]=HOLD_POS;
	servo[leftIRServo]=LEFT_SERVO_POS;
	servo[rightIRServo]=RIGHT_SERVO_POS;
	servo[rightHook]=RIGHT_HOOK_DOWN;
	wait1Msec(100);
	raise(LIFT_BOTTOM);
	wait1Msec(100);
}

void knockdownBalls() {
	driveForward(KD_FOREWARD);
	goLeft(KD_LEFT);
	spinRight(KD_SPIN);
}

task main() {
	action("Waiting...");
	//waitForStart();
	init();

	driveForward(FORWARD_DRIVE);
	switch(getCenterThingPos()) {
	case 1:
		goLeft(ONE_LEFT_DRIVE);
		driveForward(ONE_FORWARD_DRIVE);
		realign();
		tilt();
		raise(HIGH_GOAL);
		wait1Msec(2000);
		dump();
		break;
	case 2:
		goLeft(TWO_LEFT);
		spinRight(TWO_SPIN);
		driveBackward(TWO_BACK_DRIVE);
		realign();
		raise(HIGH_GOAL);
		dump();
		break;
	case 3:
		spinRight(THREE_SPIN);
		driveBackward(THREE_BACK);
		realign();
		raise(HIGH_GOAL);
		dump();
		break;
	default:
		break;
	}
	lower();
	//knockdownBalls();
}
